factory_thread_simulation